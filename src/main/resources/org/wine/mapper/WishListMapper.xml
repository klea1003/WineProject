<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.wine.mapper.WishListMapper">

<resultMap type="org.wine.domain.WishListVO" id="wishList">
<result property="wishNum" column="WISH_NUM" />
<result property="userNum" column="USER_NUM" />
<result property="wineNum" column="WINE_NUM" />
<result property="wineTitle" column="WINE_TITLE" />
<result property="wineImageName" column="WINE_IMAGENAME" />
</resultMap>



	<select id="getList" resultMap="wishList">
		<![CDATA[
		select*from tbl_wishlist_test where WISH_NUM > 0
		]]>
	</select>


	<insert id="insert">
		insert into tbl_wishlist_test(
		WISH_NUM, USER_NUM, WINE_NUM
		)values(
		SEQ_WISHLIST_TEST.NEXTVAL, #{userNum}, #{wineNum}
		)
	</insert>


<select id = "listWish" resultMap="wishList">

	select WISH_NUM, U.USER_NUM, W.WINE_NUM, WINE_TITLE, WINE_IMAGENAME
	from
	TBL_USER_TEST U, TBL_WISHLIST_TEST H, TBL_WINE_TEST W
	where
	U.USER_NUM = H.USER_NUM and H.WINE_NUM = W.WINE_NUM
	and H.USER_NUM = #{userNum} order by WISH_NUM 
</select>

	<!--삭제 -->
	<delete id ="delete">
	delete from TBL_WISHLIST_TEST
	where WISH_NUM = #{wishNum}
	</delete>


</mapper>
 