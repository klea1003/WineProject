<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.wine.mapper.UserMapper">
		<resultMap type="user" id="userSelect">
		<result property="userNum" column="USER_NUM"/>
		<result property="userId" column="USER_ID"/>
		<result property="userNickName" column="USER_NICKNAME"/>
		<result property="userEmail" column="USER_EMAIL"/>
		<result property="userPassWord" column="USER_PASSWORD"/>
		<result property="userPhoneNum" column="USER_PHONENUM"/>
		<result property="userRealName" column="USER_REALNAME"/>
		<result property="userBirthDay" column="USER_BIRTHDAY"/>
	</resultMap>
	<select id="getList" resultType="org.wine.domain.UserVO">
		select*from tbl_user_test where USER_NUM >0
	</select>
	
	  <insert id="join">
 insert into TBL_USER_TEST(USER_NUM, USER_ID, USER_NICKNAME, USER_EMAIL,USER_PASSWORD,USER_PHONENUM,USER_REALNAME,USER_BIRTHDAY)
 values(SEQ_USER_TEST.nextval,#{USER_ID},#{USER_NICKNAME},#{USER_EMAIL},#{USER_PASSWORD},#{USER_PHONENUM},#{USER_REALNAME},to_char(to_date(#{USER_BIRTHDAY})))
  </insert>
  
  
  <insert id="joinSelectKey">
  <selectKey keyProperty="USER_NUM" order="BEFORE" resultType="long">
  select SEQ_USER_TEST.nextval from dual
  </selectKey>
  insert into TBL_USER_TEST(USER_NUM, USER_ID, USER_NICKNAME, USER_EMAIL,USER_PASSWORD,USER_PHONENUM,USER_REALNAME,USER_BIRTHDAY)
 values(#{USER_NUM},#{USER_ID},#{USER_NICKNAME},#{USER_EMAIL},#{USER_PASSWORD},#{USER_PHONENUM},#{USER_REALNAME},to_char(to_date(#{USER_BIRTHDAY})))
 </insert>
 
  <update id="update">
  update TBL_USER_TEST set USER_EMAIL=#{USER_EMAIL}, USER_PASSWORD=#{USER_PASSWORD}, USER_PHONENUM=#{USER_PHONENUM}, USER_BIRTHDAY = to_char(to_date(#{USER_BIRTHDAY}))
  where USER_NUM=#{USER_NUM}
  </update> 
 
</mapper>
 